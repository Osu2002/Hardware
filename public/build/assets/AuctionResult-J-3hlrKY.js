import{x as o,p as d,s as e,E as u,J as c,M as g,L as n,N,O as k,d as C,P as E,F as p,t as L,q as I}from"./index-BC79lHc5.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0},firstItem:{type:Number,required:!0},lastItem:{type:Number,required:!0},total:{type:Number,required:!0}},data(){return{maxVisiblePages:5}},computed:{pages(){const s=[];for(let t=1;t<=this.lastPage;t++)s.push(t);return s},displayedPages(){const s=Math.floor(this.maxVisiblePages/2);let t=Math.max(1,this.currentPage-s),l=Math.min(this.total,this.currentPage+s);return l-t<this.maxVisiblePages-1&&(t===1?l=Math.min(this.total,t+this.maxVisiblePages-1):t=Math.max(1,l-this.maxVisiblePages+1)),Array.from({length:l-t+1},(_,m)=>t+m)}},emits:["goto"],methods:{nextPage(){this.currentPage<this.lastPage&&this.$emit("goto",this.currentPage+1)},previousPage(){this.currentPage>1&&this.$emit("goto",this.currentPage-1)},gotoPage(s){this.$emit("goto",s)}}},T={class:"pagination-area"},S={class:"d-flex justify-items-center justify-content-between"},D={class:"d-flex justify-content-between flex-fill d-sm-none"},G={class:"pagination"},R={class:"d-none flex-sm-fill d-sm-flex align-items-sm-center justify-content-sm-between"},$={class:"small text-muted"},O={class:"fw-semibold"},V={class:"fw-semibold"},q={class:"fw-semibold"},j={class:"pagination"},K=["onClick"];function z(s,t,l,_,m,i){return d(),o("div",T,[e("nav",S,[e("div",D,[e("ul",G,[e("li",{class:u(["page-item",{disabled:l.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=c((...r)=>i.previousPage&&i.previousPage(...r),["prevent"])),"aria-label":"Previous"}," Previous ")],2),e("li",{class:u(["page-item",{disabled:l.currentPage===l.lastPage}])},[e("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=c((...r)=>i.nextPage&&i.nextPage(...r),["prevent"])),"aria-label":"Next"}," Next ")],2)])]),e("div",R,[e("div",null,[e("p",$,[t[4]||(t[4]=g(" Showing ")),e("span",O,n(l.firstItem),1),t[5]||(t[5]=g(" to ")),e("span",V,n(l.lastItem),1),t[6]||(t[6]=g(" of ")),e("span",q,n(l.total),1),t[7]||(t[7]=g(" results "))])]),e("div",null,[e("ul",j,[e("li",{class:u(["page-item",{disabled:l.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=c((...r)=>i.previousPage&&i.previousPage(...r),["prevent"])),"aria-label":"Previous"}," ‹ ")],2),(d(!0),o(N,null,k(i.displayedPages,r=>(d(),o("li",{key:r,class:u(["page-item",{active:r===l.currentPage}])},[e("a",{class:"page-link",href:"#",onClick:c(f=>i.gotoPage(r),["prevent"])},n(r),9,K)],2))),128)),e("li",{class:u(["page-item",{disabled:l.currentPage===l.lastPage}])},[e("a",{class:"page-link",href:"#",onClick:t[3]||(t[3]=c((...r)=>i.nextPage&&i.nextPage(...r),["prevent"])),"aria-label":"Next"}," › ")],2)])])])])])}const F=x(w,[["render",z]]),Q={components:{Link:C.Link,Pagination:F},data(){return{index:""}},computed:{sanitizedGrade(){return(this.vehicle.GRADE||"").replace(/&[^;]+;/g,"").trim()},computedLastPage(){let s=Math.max(1,Math.ceil((this.$page.props.vehiclesListCount??0)/12));return console.log("Computed Last Page:",s),s}},methods:{sanitizeGrade(s=""){return String(s).replace(/&[^;]+;/g,"").trim()},stringToSlug(s){return s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").replace(/^-+|-+$/g,"")},getFirstImage(s){const t=s.split("#");return t.length>0?t[0].replace("&h=50",""):""},gotoPage(s){var t;this.$inertia.reload({method:"POST",data:{...(t=this.$page.props)==null?void 0:t.requestQuery,page:s,_method:"GET"},onSuccess:()=>{this.loading=!1,window.scrollTo({top:0,behavior:"smooth"})}})}}},B={class:"container-fluid px-5 px-md-6 mobileResponsiveForPadding my-5"},U={key:0},Y={class:"row g-4"},J=["href"],H={class:"vehicle-card h-100"},W={class:"card-image"},X=["src"],Z={class:"card-body"},ee={class:"card-title fw-bold mb-3"},te={key:0},se={class:"vehicle-details"},ae={class:"detail-item"},ie={class:"detail-value"},le={class:"detail-item"},re={class:"detail-value"},ne={class:"detail-item"},oe={class:"detail-value"},de={class:"detail-item"},ge={class:"detail-value"},ue={class:"detail-item"},ce={class:"detail-value"},me={class:"detail-item"},pe={class:"detail-value"},_e={class:"detail-item"},fe={class:"detail-value"},he={class:"detail-item"},Pe={key:1,class:"mt-4"};function ve(s,t,l,_,m,i){var h,P,v,b,A,M,y;const r=E("Link"),f=E("Pagination");return d(),o("section",B,[!s.$page.props.vehiclesList||s.$page.props.vehiclesList.length<=0?(d(),o("div",U,t[0]||(t[0]=[e("div",{class:"text-center"},[e("div",null,[e("img",{src:"/images/car-front-in-magnifier-glass.png",width:"100",alt:""})]),e("div",{class:"h5 fw-bold text-secondary pt-3"},"Please select your vehicle make.")],-1)]))):p("",!0),e("div",Y,[(d(!0),o(N,null,k(s.$page.props.vehiclesList,a=>(d(),o("div",{class:"col-12 col-md-6 col-lg-4 col-xl-3",key:a.ID},[e("a",{href:s.route("auction",{id:a.ID,model:i.stringToSlug(a.MARKA_NAME),slug:i.stringToSlug(a.MARKA_NAME)+"-"+i.stringToSlug(a.MODEL_NAME)}),class:"text-decoration-none"},[e("div",H,[e("div",W,[e("img",{src:i.getFirstImage(a.IMAGES),class:"w-100 vehicle-img",alt:"",style:{"object-fit":"cover"}},null,8,X)]),e("div",Z,[e("h5",ee,[g(n(a.MARKA_NAME)+" "+n(a.MODEL_NAME)+" ",1),i.sanitizeGrade(a.GRADE)?(d(),o("span",te," – "+n(i.sanitizeGrade(a.GRADE)),1)):p("",!0)]),e("div",se,[e("div",ae,[t[1]||(t[1]=e("span",{class:"detail-label"},"Year",-1)),e("span",ie,n(a.YEAR),1)]),e("div",le,[t[2]||(t[2]=e("span",{class:"detail-label"},"Lot No",-1)),e("span",re,n(a.LOT),1)]),e("div",ne,[t[3]||(t[3]=e("span",{class:"detail-label"},"Auction",-1)),e("span",oe,n(a.AUCTION),1)]),e("div",de,[t[4]||(t[4]=e("span",{class:"detail-label"},"Date",-1)),e("span",ge,n(a.AUCTION_DATE),1)]),e("div",ue,[t[5]||(t[5]=e("span",{class:"detail-label"},"Mileage",-1)),e("span",ce,n(a.MILEAGE)+" KM",1)]),e("div",me,[t[6]||(t[6]=e("span",{class:"detail-label"},"Engine",-1)),e("span",pe,n(a.ENG_V)+" CC",1)]),e("div",_e,[t[7]||(t[7]=e("span",{class:"detail-label"},"Color",-1)),e("span",fe,n(a.COLOR),1)]),e("div",he,[L(r,{href:s.$root.getUser()?s.route("auction",{id:a.ID,model:s.$root.stringToSlug(a.MARKA_NAME),slug:s.$root.stringToSlug(a.MARKA_NAME)+"-"+i.stringToSlug(a.MODEL_NAME)}):s.route("user.login"),class:"d-flex justify-content-center align-items-center h-100 btn btn-seemore detail-label"},{default:I(()=>t[8]||(t[8]=[g("MORE DETAILS ")])),_:2},1032,["href"])])])])])],8,J)]))),128))]),((h=s.$page.props.vehiclesList)==null?void 0:h.length)>0?(d(),o("div",Pe,[L(f,{total:parseInt(s.$page.props.vehiclesListCount??"0"),currentPage:parseInt(((v=(P=s.$page.props)==null?void 0:P.requestQuery)==null?void 0:v.page)??"1"),lastPage:i.computedLastPage,firstItem:((((A=(b=s.$page.props)==null?void 0:b.requestQuery)==null?void 0:A.page)??1)-1)*12+1,lastItem:Math.min(s.$page.props.vehiclesListCount,(((y=(M=s.$page.props)==null?void 0:M.requestQuery)==null?void 0:y.page)??1)*12),onGoto:i.gotoPage},null,8,["total","currentPage","lastPage","firstItem","lastItem","onGoto"])])):p("",!0)])}const Me=x(Q,[["render",ve],["__scopeId","data-v-da32c573"]]);export{Me as default};
