import{d as c,P as i,m as h,p as d,q as _,s as o,x as f,F as y,J as x,t as p,y as l,Q as n,L as t,M as V}from"./index-BC79lHc5.js";import{S as C,A as U}from"./AppLayout-DiJY6Gaj.js";import{F as S}from"./FileInputComponent-BBLs8XKv.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C45j6faE.js";const A={components:{Link:c.Link,AppLayout:U,FileInputComponent:S,SelectInputComponentVue:C},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,service_types:Object,vehicle_types:Object,customer:Object},data(){return{form:c.useForm({id:"",name:"",status:"",email:"",phone:"",address:"",password:"",confirm_password:"",current_password:"",new_password:"",confirm_new_password:"",profile_image:""})}},mounted(){this.customer&&(this.form.id=this.customer.id,this.form.name=this.customer.name,this.form.status=this.customer.status,this.form.email=this.customer.email,this.form.address=this.customer.address,this.form.phone=this.customer.phone,this.form.enrolled_affiliate=this.customer.enrolled_affiliate,this.form.enrolled_affiliate_id=this.customer.enrolled_affiliate_id,this.form.password="")},computed:{Profile_Image(){return this.customer&&this.customer.media.length>0?this.customer.media[0].original_url:""}},methods:{enrollAffilate(a){this.form.post(route("affilate-customer.enroll",{id:a}))},submit(){this.form.post(this.customer?route("customer.update"):route("customer.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}}},I={class:"row"},P={class:"card mb-4"},L={key:0,class:"alert alert-primary"},j={class:"d-flex align-items-center justify-content-between"},E={class:"card-body"},N={class:"row"},F={class:"mb-3 col-md-6"},M={class:"text-danger"},O={class:"mb-3 col-md-6"},B={class:"text-danger"},R={class:"mb-3 col-md-6"},q={class:"text-danger"},D={class:"mb-3 col-md-6"},T={class:"text-danger"},J={key:0},Q={class:"mb-3 col-md-6"},W={class:"text-danger"},z={class:"mb-3 col-md-6"},G={class:"text-danger"},H={class:"mb-3 col-md-6"},K={class:"text-danger"},X={key:1,class:"col-12"},Y={class:"row"},Z={class:"mb-3 col-md-6"},$={class:"text-danger"},ss={class:"mb-3 col-md-6"},os={class:"text-danger"},es={class:"mb-3 col-md-6"},rs={class:"text-danger"},ts={class:"mt-2"},ls=["disabled"];function ns(a,s,u,ms,e,m){const w=i("SelectInputComponentVue"),b=i("FileInputComponent"),v=i("Link"),g=i("AppLayout");return d(),h(g,null,{default:_(()=>[o("div",I,[o("div",P,[s[27]||(s[27]=o("div",{class:"card-header pb-0"},[o("h5",null,"Customers"),o("p",null,"Manage Customers.")],-1)),s[28]||(s[28]=o("hr",null,null,-1)),e.form.id&&e.form.enrolled_affiliate==1&&!e.form.enrolled_affiliate_id?(d(),f("div",L,[o("div",j,[s[13]||(s[13]=o("div",{class:"h5 text-primary mb-0"},"Enroll to Affiliate Program.",-1)),o("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=r=>m.enrollAffilate(e.form.id))},"Enroll")])])):y("",!0),o("div",E,[o("form",{id:"formAccountSettings",onSubmit:s[12]||(s[12]=x((...r)=>m.submit&&m.submit(...r),["prevent"]))},[o("div",N,[o("div",F,[s[14]||(s[14]=o("label",{for:"name",class:"form-label"},"Name",-1)),l(o("input",{class:"form-control",type:"text",id:"name",name:"name","onUpdate:modelValue":s[1]||(s[1]=r=>e.form.name=r)},null,512),[[n,e.form.name]]),o("div",M,t(e.form.errors.name),1)]),o("div",O,[s[15]||(s[15]=o("label",{for:"name",class:"form-label"},"Email",-1)),l(o("input",{class:"form-control",type:"email",id:"email",name:"email","onUpdate:modelValue":s[2]||(s[2]=r=>e.form.email=r)},null,512),[[n,e.form.email]]),o("div",B,t(e.form.errors.email),1)]),o("div",R,[s[16]||(s[16]=o("label",{for:"name",class:"form-label"},"Phone",-1)),l(o("input",{class:"form-control",type:"number",id:"phone",name:"phone","onUpdate:modelValue":s[3]||(s[3]=r=>e.form.phone=r)},null,512),[[n,e.form.phone]]),o("div",q,t(e.form.errors.phone),1)]),o("div",D,[s[17]||(s[17]=o("label",{for:"name",class:"form-label"},"Address",-1)),l(o("input",{class:"form-control",type:"text",id:"address",name:"address","onUpdate:modelValue":s[4]||(s[4]=r=>e.form.address=r)},null,512),[[n,e.form.address]]),o("div",T,t(e.form.errors.address),1)]),u.customer?(d(),f("div",J,[o("div",Q,[s[18]||(s[18]=o("label",{for:"current_password",class:"form-label"},"Current Password",-1)),l(o("input",{class:"form-control",type:"password",id:"current_password",name:"current_password","onUpdate:modelValue":s[5]||(s[5]=r=>e.form.current_password=r)},null,512),[[n,e.form.current_password]]),o("div",W,t(e.form.errors.current_password),1)]),o("div",z,[s[19]||(s[19]=o("label",{for:"new_password",class:"form-label"},"New Password",-1)),l(o("input",{class:"form-control",type:"password",id:"new_password",name:"new_password","onUpdate:modelValue":s[6]||(s[6]=r=>e.form.new_password=r)},null,512),[[n,e.form.new_password]]),o("div",G,t(e.form.errors.new_password),1)]),o("div",H,[s[20]||(s[20]=o("label",{for:"confirm_new_password",class:"form-label"},"Confirm New Password",-1)),l(o("input",{class:"form-control",type:"password",id:"confirm_new_password",name:"confirm_new_password","onUpdate:modelValue":s[7]||(s[7]=r=>e.form.confirm_new_password=r)},null,512),[[n,e.form.confirm_new_password]]),o("div",K,t(e.form.errors.confirm_new_password),1)])])):(d(),f("div",X,[o("div",Y,[o("div",Z,[s[21]||(s[21]=o("label",{for:"password",class:"form-label"},"Password",-1)),l(o("input",{class:"form-control",type:"password",id:"password",name:"password","onUpdate:modelValue":s[8]||(s[8]=r=>e.form.password=r)},null,512),[[n,e.form.password]]),o("div",$,t(e.form.errors.password),1)]),o("div",ss,[s[22]||(s[22]=o("label",{for:"confirm_password",class:"form-label"},"Confirm Password",-1)),l(o("input",{class:"form-control",type:"password",id:"confirm_password",name:"confirm_password","onUpdate:modelValue":s[9]||(s[9]=r=>e.form.confirm_password=r)},null,512),[[n,e.form.confirm_password]]),o("div",os,t(e.form.errors.confirm_password),1)])])])),p(w,{id:"status",label:"Status",error:e.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:e.form.status,"onUpdate:modelValue":s[10]||(s[10]=r=>e.form.status=r)},null,8,["error","modelValue"]),s[25]||(s[25]=o("div",{class:"mb-3 col-md-6"},[o("label",{for:"name",class:"form-label"})],-1)),o("div",es,[s[23]||(s[23]=o("label",{for:"profile_image",class:"form-label me-3"},"Profile Image",-1)),s[24]||(s[24]=o("br",null,null,-1)),p(b,{isRequired:!1,id:"profile_image",prvImage:m.Profile_Image,modelValue:e.form.profile_image,"onUpdate:modelValue":s[11]||(s[11]=r=>e.form.profile_image=r)},null,8,["prvImage","modelValue"]),o("div",rs,t(e.form.errors.profile_image),1)])]),o("div",ts,[o("button",{type:"submit",class:"btn btn-main me-2",disabled:e.form.processing},t(u.customer?"Update":"Save"),9,ls),p(v,{class:"btn btn-outline-danger",href:a.route("customer.index")},{default:_(()=>s[26]||(s[26]=[V("Cancel")])),_:1},8,["href"])])],32)])])])]),_:1})}const us=k(A,[["render",ns]]);export{us as default};
