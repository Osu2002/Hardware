import{d as A,P as y,x as i,p as l,s as e,U as E,y as g,S as h,N as n,O as u,F as T,L as o,E as m,t as C,q as S,M as v}from"./index-BC79lHc5.js";import{d as b}from"./index-C45j6faE.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _={components:{Link:A.Link},data(){return{index:"",form:{manufacture:0,model:0,chassis_no:0,year:0,rate:0,engine:0,engine:0,lot_no:0,au_date:0,page:1},currentPage:1,perPage:10}},computed:{paginatedStats(){const s=(this.currentPage-1)*this.perPage;return this.$page.props.vehicleStatsList.slice(s,s+this.perPage)},totalPages(){return Math.ceil(this.$page.props.vehicleStatsList.length/this.perPage)},totalItems(){return this.$page.props.vehicleStatsList.length},firstItem(){return(this.currentPage-1)*this.perPage+1},lastItem(){return Math.min(this.currentPage*this.perPage,this.totalItems)},visiblePageNumbers(){const s=this.totalPages,a=this.currentPage,c=3;let p=Math.max(1,a-Math.floor(c/2)),d=p+c-1;d>s&&(d=s,p=Math.max(1,s-c+1));const r=[];for(let f=p;f<=d;f++)r.push(f);return r}},mounted(){console.log(this.$page.props.details),this.form.manufacture=this.$page.props.details.MARKA_NAME,this.form.model=this.$page.props.details.MODEL_NAME,this.form.year=this.$page.props.details.YEAR,this.form.rate=this.$page.props.details.RATE,this.setQueryData(),this.$inertia.reload({method:"POST",data:{_method:"GET",...this.form,manufacture:this.$page.props.details.MARKA_NAME,model:this.$page.props.details.MODEL_NAME,rate:this.$page.props.details.RATE},onSuccess:()=>{this.setQueryData()}})},methods:{statusColorClass(s){return s=="SOLD"?"bg-danger text-white":s=="NOT SOLD"?"bg-success text-white":"text-dark"},resetFilter(){this.form={manufacture:0,model:0,chassis_no:0,year:0,rate:0,engine:0,page:1}},setQueryData(){this.form.manufacture=this.$page.props.requestQuery.manufacturer??this.$page.props.details.MARKA_NAME,this.form.model=this.$page.props.requestQuery.model??this.$page.props.details.MODEL_NAME,this.form.year=this.$page.props.requestQuery.year??this.$page.props.details.YEAR,this.form.chassis_no=this.$page.props.requestQuery.chassis_no??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.rate=this.$page.props.requestQuery.rate??0,this.form.page=this.$page.props.requestQuery.page??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.lot_no=this.$page.props.requestQuery.lot_no??0,this.form.au_date=this.$page.props.requestQuery.au_date??0},onChangeField(s){this.currentPage=1,this.$page.props.requestQuery.year!=this.form.year&&(this.form.chassis_no=0,this.form.rate=0),this.$inertia.reload({method:"POST",data:{_method:"GET",...this.form},onSuccess:()=>{this.setQueryData()}})},changePage(s){s<1||s>this.totalPages||(this.currentPage=s)},goToStat(s){const a=route("auction.stat",{id:s.ID,model:this.$root.stringToSlug(s.MARKA_NAME),slug:this.$root.stringToSlug(s.MARKA_NAME)+"-"+this.$root.stringToSlug(s.MODEL_NAME)});this.$page.props.logged_customer?b.Inertia.visit(a):b.Inertia.visit(route("user.login",{redirect:a}))}}},N={key:0,class:"mt-5"},O={class:"row border py-4 rounded shadow-sm"},P={class:"col-md-4"},k=["value"],w={class:"col-md-4"},L=["value"],M={class:"col-md-4"},D=["value"],R={class:"col-md-4"},U=["value"],G={class:"col-md-4"},V=["value"],F={class:"col-md-4"},Q=["value"],I={class:"my-5"},K={class:"table-responsive"},q={class:"table table-striped border",style:{"font-size":"13px","vertical-align":"middle"}},Y=["src"],B={class:"text-danger fw-bold"},$=["href"],z={class:"text-danger fw-bold text-decoration-underline",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#auction","aria-controls":"offcanvasScrolling"},H={key:0,class:"text-center"},Z={class:"d-flex justify-content-between align-items-center mt-3"},j={class:"text-muted"},W={class:"pagination mb-0"},X=["disabled"],J=["onClick"],tt=["disabled"],et={key:1,class:"flex items-center justify-center h-96 bg-gray-50"},at={class:"text-center p-8 rounded-xl shadow-md bg-white"};function st(s,a,c,p,d,r){const f=y("Link");return s.$root.getUser()?(l(),i("section",N,[e("div",O,[e("div",P,[g(e("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":a[0]||(a[0]=t=>d.form.year=t),onChange:a[1]||(a[1]=(...t)=>r.onChangeField&&r.onChangeField(...t))},[a[14]||(a[14]=e("option",{value:"0",selected:""},"SELECT YEAR",-1)),(l(!0),i(n,null,u(s.$page.props.statsYears,t=>(l(),i("option",{key:t.YEAR,value:t.YEAR},o(t.YEAR),9,k))),128))],544),[[h,d.form.year]])]),e("div",w,[g(e("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":a[2]||(a[2]=t=>d.form.chassis_no=t),onChange:a[3]||(a[3]=(...t)=>r.onChangeField&&r.onChangeField(...t))},[a[15]||(a[15]=e("option",{value:"0",selected:""},"SELECT CHASSIS ID",-1)),(l(!0),i(n,null,u(s.$page.props.statsChassis,t=>(l(),i("option",{key:t.TAG0,value:t.KUZOV},o(t.KUZOV),9,L))),128))],544),[[h,d.form.chassis_no]])]),e("div",M,[g(e("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":a[4]||(a[4]=t=>d.form.rate=t),onChange:a[5]||(a[5]=(...t)=>r.onChangeField&&r.onChangeField(...t))},[a[16]||(a[16]=e("option",{value:"0",selected:""},"SELECT CONDITION",-1)),(l(!0),i(n,null,u(s.$page.props.statsConditions,t=>(l(),i("option",{key:t.TAG0,value:t.RATE},o(t.RATE),9,D))),128))],544),[[h,d.form.rate]])]),e("div",R,[g(e("select",{class:"form-select mb-4","onUpdate:modelValue":a[6]||(a[6]=t=>d.form.engine=t),onChange:a[7]||(a[7]=(...t)=>r.onChangeField&&r.onChangeField(...t))},[a[17]||(a[17]=e("option",{value:"0",selected:""},"SELECT ENGINE CAPACITY",-1)),(l(!0),i(n,null,u(s.$page.props.statsengine,t=>(l(),i("option",{key:t.TAG0,value:t.ENG_V},o(t.ENG_V),9,U))),128))],544),[[h,d.form.engine]])]),e("div",G,[g(e("select",{class:"form-select mb-4","onUpdate:modelValue":a[8]||(a[8]=t=>d.form.lot_no=t),onChange:a[9]||(a[9]=(...t)=>r.onChangeField&&r.onChangeField(...t))},[a[18]||(a[18]=e("option",{value:"0",selected:""},"SELECT LOT NUMBER",-1)),(l(!0),i(n,null,u(s.$page.props.statsslot,t=>(l(),i("option",{key:t.LOT,value:t.LOT},o(t.LOT),9,V))),128))],544),[[h,d.form.lot_no]])]),e("div",F,[g(e("select",{class:"form-select mb-4","onUpdate:modelValue":a[10]||(a[10]=t=>d.form.au_date=t),onChange:a[11]||(a[11]=(...t)=>r.onChangeField&&r.onChangeField(...t))},[a[19]||(a[19]=e("option",{value:"0",selected:""},"SELECT AUCTION DATE",-1)),(l(!0),i(n,null,u(s.$page.props.statAuDate,t=>(l(),i("option",{key:t.AUCTION_DATE,value:t.AUCTION_DATE},o(t.AUCTION_DATE),9,Q))),128))],544),[[h,d.form.au_date]])])]),e("section",I,[e("div",K,[e("table",q,[a[21]||(a[21]=e("thead",null,[e("tr",{style:{"vertical-align":"baseline"}},[e("th",{class:"bg-custom text-black",style:{"min-width":"100px"}},"IMAGE"),e("th",{class:"bg-custom text-black",style:{"min-width":"80px"}},"LOT NO"),e("th",{class:"bg-custom text-black",style:{"min-width":"180px"}},"DATE AUCTION"),e("th",{class:"bg-custom text-black",style:{"min-width":"130px"}},"YEAR - CHASSIS ID"),e("th",{class:"bg-custom text-black",style:{"min-width":"180px"}},"ENGINE CAPACITY - EQUIP BOX"),e("th",{class:"bg-custom text-black",style:{"min-width":"130px"}},"MILEAGE(KM)- CONDITION"),e("th",{class:"bg-custom text-black",style:{"min-width":"70px"}},"START"),e("th",{class:"bg-custom text-black",style:{"min-width":"70px"}},"SOLD FOR"),e("th",{class:"bg-custom text-black",style:{"min-width":"80px"}},"STATUS"),e("th",{class:"bg-custom text-black",style:{"min-width":"80px"}},"COLOR")])],-1)),e("tbody",null,[(l(!0),i(n,null,u(r.paginatedStats,t=>(l(),i("tr",{key:t.ID},[e("td",null,[e("img",{src:t.IMAGES,alt:"",style:{height:"50px"}},null,8,Y)]),e("td",B,[e("a",{href:s.route("auction.stat",{id:t.ID,model:s.$root.stringToSlug(t.MARKA_NAME),slug:s.$root.stringToSlug(t.MARKA_NAME)+"-"+s.$root.stringToSlug(t.MODEL_NAME)}),target:"_blank",class:"text-danger text-decoration-underline"},o(t.LOT),9,$)]),e("td",null,o(t.AUCTION_DATE)+" "+o(t.AUCTION),1),e("td",null,o(t.YEAR)+" - "+o(t.KUZOV)+" "+o(t.GRADE),1),e("td",null,o(t.KPP)+" "+o(t.ENG_V)+"CC - "+o(t.EQUIP),1),e("td",null,[v(o(t.MILEAGE)+"KM ",1),e("span",z,o(t.RATE),1)]),e("td",null,o(t.START)+"¥ ",1),e("td",null,o(t.FINISH)+"¥ ",1),e("td",null,[e("span",{class:m(`${r.statusColorClass(t.STATUS)} p-1 rounded px-2`)},o(t.STATUS==""||!t.STATUS?"-":t.STATUS),3)]),e("td",null,o(t.COLOR),1)]))),128)),this.$page.props.vehicleStatsList.length==0?(l(),i("tr",H,a[20]||(a[20]=[e("td",{colspan:"10"}," No results found..",-1)]))):T("",!0)])])])]),a[22]||(a[22]=E('<div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="auction" aria-labelledby="offcanvasWithBothOptionsLabel" data-v-7f4276a4><div class="offcanvas-header" data-v-7f4276a4><button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-v-7f4276a4></button></div><div class="offcanvas-body" data-v-7f4276a4><h6 class="fw-bold" data-v-7f4276a4>Exterior Auction Grade</h6><table class="table table-striped mt-5 text-start" style="font-size:12px;" data-v-7f4276a4><thead data-v-7f4276a4><th class="fw-bold" data-v-7f4276a4>Grade</th><th data-v-7f4276a4>Details</th></thead><tbody data-v-7f4276a4><tr data-v-7f4276a4><td data-v-7f4276a4>S</td><td data-v-7f4276a4>Brand New,</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>6-9</td><td data-v-7f4276a4>Like new in condition, under 5,000 Km</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>5</td><td data-v-7f4276a4>Vehicle is like new. All parts are new. No repair needed on vehicle. Normally given to vehicles less than 3 years.</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>4.5</td><td data-v-7f4276a4>The condition of vehicle is good. Only few scratches or dents as in normal cars </td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>4 </td><td data-v-7f4276a4>The condition of vehicle is good. Only few scratches or dents as in normal cars</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>3.5 </td><td data-v-7f4276a4>Vehicle has few scratches or dents are visible. This grade is given to vehicle in average condition</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>3 </td><td data-v-7f4276a4>There are various scratches or dents. Some paints faults</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>2 </td><td data-v-7f4276a4> Nonstandard car. Badly stained or modified car</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>1 </td><td data-v-7f4276a4>Inferior car or badly modified car</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>RA or R1 </td><td data-v-7f4276a4>The vehicle had been in a minor accident but repaired to an acceptable standard </td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>R or A </td><td data-v-7f4276a4>A vehicle which has been in an accident where some parts have been repaired or replaced. </td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>*** </td><td data-v-7f4276a4>Bad Accident</td></tr></tbody></table><h6 class="fw-bold mt-5" data-v-7f4276a4>Interior Auction Grade</h6><table class="table table-striped mt-5 text-start" style="font-size:12px;" data-v-7f4276a4><thead data-v-7f4276a4><th class="fw-bold" data-v-7f4276a4>Grade</th><th data-v-7f4276a4>Details</th></thead><tbody data-v-7f4276a4><tr data-v-7f4276a4><td data-v-7f4276a4>A</td><td data-v-7f4276a4>Like new, no faults</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>B</td><td data-v-7f4276a4>Clean condition, slightly dirty</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>C</td><td data-v-7f4276a4>Clean but with cigarette burns</td></tr><tr data-v-7f4276a4><td data-v-7f4276a4>D</td><td data-v-7f4276a4>Dirty or stinky or big rips on seat </td></tr></tbody></table></div></div>',1)),e("div",Z,[e("small",j," Showing "+o(r.firstItem)+" to "+o(r.lastItem)+" of "+o(r.totalItems)+" results ",1),e("ul",W,[e("li",{class:m(["page-item",{disabled:d.currentPage===1}])},[e("button",{class:"page-link",onClick:a[12]||(a[12]=t=>r.changePage(d.currentPage-1)),disabled:d.currentPage===1}," Previous ",8,X)],2),(l(!0),i(n,null,u(r.visiblePageNumbers,t=>(l(),i("li",{class:m(["page-item",{active:t===d.currentPage}]),key:t},[e("button",{class:"page-link",onClick:rt=>r.changePage(t)},o(t),9,J)],2))),128)),e("li",{class:m(["page-item",{disabled:d.currentPage===r.totalPages}])},[e("button",{class:"page-link",onClick:a[13]||(a[13]=t=>r.changePage(d.currentPage+1)),disabled:d.currentPage===r.totalPages}," Next ",8,tt)],2)])])])):(l(),i("section",et,[e("div",at,[a[24]||(a[24]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Please log in",-1)),a[25]||(a[25]=e("p",{class:"text-gray-600 mb-6"},"You need to be logged in to view your statistics and insights.",-1)),C(f,{href:s.route("user.login",{redirect:s.$page.url}),class:"btn btn-primary"},{default:S(()=>a[23]||(a[23]=[v(" Login ")])),_:1},8,["href"])])]))}const lt=x(_,[["render",st],["__scopeId","data-v-7f4276a4"]]);export{lt as default};
