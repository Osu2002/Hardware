import{d as k,P as E,x as n,p as r,s as t,N as _,O as v,t as f,q as u,m as w,a8 as b,F as y,E as L,L as P,T as S}from"./index-BC79lHc5.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={components:{Link:k.Link},props:{vehicle_types:{type:Array,required:!0}},data(){return{currentPage:0,itemsPerPage:1,touchStartX:0,touchEndX:0,transitionName:"slide-left",observer:null,imageLoaded:{}}},computed:{paginatedVehicleTypes(){const i=this.currentPage*this.itemsPerPage;return this.vehicle_types.slice(i,i+this.itemsPerPage)}},mounted(){this.initObserver(),this.observeItems();const i=new IntersectionObserver((s,a)=>{s.forEach(h=>{h.isIntersecting&&(h.target.classList.add("in-view"),a.unobserve(h.target))})},{threshold:.15});this.$el.querySelectorAll(".animated-item").forEach(s=>{i.observe(s)}),this.vehicle_types.forEach(s=>{this.imageLoaded[s.id]=!1}),this.$nextTick(()=>{this.vehicle_types.forEach(s=>{var h,o;const a=this.$el.querySelector(`img[alt="Vehicle Type Image"][src="${(o=(h=s.media)==null?void 0:h[0])==null?void 0:o.original_url}"]`);a&&a.complete&&this.markLoaded(s.id)})})},methods:{nextPage(){(this.currentPage+1)*this.itemsPerPage<this.vehicle_types.length&&(this.transitionName="slide-left",this.currentPage++)},prevPage(){this.currentPage>0&&(this.transitionName="slide-right",this.currentPage--)},onTouchStart(i){this.touchStartX=i.changedTouches[0].clientX},onTouchEnd(i){this.touchEndX=i.changedTouches[0].clientX;const s=this.touchEndX-this.touchStartX;s<-50?this.nextPage():s>50&&this.prevPage()},initObserver(){this.observer=new IntersectionObserver((i,s)=>{i.forEach(a=>{a.isIntersecting&&(a.target.classList.add("in-view"),s.unobserve(a.target))})},{threshold:.15})},observeItems(){this.$el.querySelectorAll(".animated-item").forEach(i=>this.observer.observe(i))},markLoaded(i){this.$set?this.$set(this.imageLoaded,i,!0):this.imageLoaded[i]=!0}}},V={class:"categorySection my-5 mb-0 pt-2 container-fluid"},N={class:"row text-left w-100"},X={class:"col-md-12 categorySectionColumn ps-0 mb-0"},C={class:"container-fluid mt-4 d-none d-sm-block"},T={class:"row"},q={class:"img-container position-relative"},B={key:0,class:"skeleton-placeholder"},O=["src","onLoad"],A={class:"button-overlay"},F={class:"category-button"},G={class:"row mt-4"},z={class:"img-container position-relative"},D={key:0,class:"skeleton-placeholder"},j=["src","onLoad"],H={class:"button-overlay"},J={class:"category-button"},K={class:"d-block d-sm-none mt-4"},M={class:"col-12"},Q={class:"img-container position-relative"},R={key:0,class:"skeleton-placeholder"},U=["src","onLoad"],W={class:"button-overlay"},Y={class:"category-button"},Z={class:"pager mt-3"},$=["disabled"],ee=["disabled"];function te(i,s,a,h,o,d){const g=E("Link");return r(),n("section",V,[t("div",N,[t("div",X,[s[6]||(s[6]=t("div",{class:"row align-items-center ps-0"},[t("div",{class:"col-8 ps-3"},[t("h2",{class:"headText secondFontStyle text-left fw-semibold fs-2 fs-md-1"}," Browse by Type ")])],-1)),t("div",C,[t("div",T,[(r(!0),n(_,null,v(a.vehicle_types.slice(0,2),(e,m)=>(r(),n("div",{key:e.id,class:"col-12 col-sm-6 mb-4"},[f(g,{method:"post",href:i.route("available"),data:{_method:"GET",type:e.id}},{default:u(()=>{var l,c;return[t("div",{class:"category-card big-card",style:b({"--delay":m*150+"ms"})},[t("div",q,[o.imageLoaded[e.id]?y("",!0):(r(),n("div",B)),t("img",{src:(c=(l=e.media)==null?void 0:l[0])==null?void 0:c.original_url,alt:"Vehicle Type Image",class:L(["vehicle-image",{"is-loaded":o.imageLoaded[e.id]}]),onLoad:p=>o.imageLoaded[e.id]=!0},null,42,O),t("div",A,[t("button",F,P(e.title),1)])])],4)]}),_:2},1032,["href","data"])]))),128))]),t("div",G,[(r(!0),n(_,null,v(a.vehicle_types.slice(2,5),(e,m)=>(r(),n("div",{key:e.id,class:"col-12 col-sm-6 col-md-4 mb-4"},[f(g,{method:"post",href:i.route("available"),data:{_method:"GET",type:e.id}},{default:u(()=>{var l,c;return[t("div",{class:"category-card big-card",style:b({"--delay":(m+2)*150+"ms"})},[t("div",z,[o.imageLoaded[e.id]?y("",!0):(r(),n("div",D)),t("img",{src:(c=(l=e.media)==null?void 0:l[0])==null?void 0:c.original_url,alt:"Vehicle Type Image",class:L(["vehicle-image",{"is-loaded":o.imageLoaded[e.id]}]),onLoad:p=>o.imageLoaded[e.id]=!0},null,42,j),t("div",H,[t("button",J,P(e.title),1)])])],4)]}),_:2},1032,["href","data"])]))),128))])]),t("div",K,[f(S,{name:o.transitionName,mode:"out-in"},{default:u(()=>[(r(),n("div",{class:"row",key:o.currentPage,onTouchstart:s[0]||(s[0]=(...e)=>d.onTouchStart&&d.onTouchStart(...e)),onTouchend:s[1]||(s[1]=(...e)=>d.onTouchEnd&&d.onTouchEnd(...e))},[t("div",M,[(r(!0),n(_,null,v(d.paginatedVehicleTypes,(e,m)=>(r(),w(g,{key:e.id,method:"post",href:i.route("available"),data:{_method:"GET",type:e.id}},{default:u(()=>{var l,c;return[t("div",{class:"category-card big-card",style:b({"--delay":m*150+"ms"})},[t("div",Q,[o.imageLoaded[e.id]?y("",!0):(r(),n("div",R)),t("img",{src:(c=(l=e.media)==null?void 0:l[0])==null?void 0:c.original_url,alt:"Vehicle Type Image",class:L(["vehicle-image",{"is-loaded":o.imageLoaded[e.id]}]),onLoad:p=>d.markLoaded(e.id)},null,42,U),t("div",W,[t("button",Y,P(e.title),1)])])],4)]}),_:2},1032,["href","data"]))),128))])],32))]),_:1},8,["name"]),t("div",Z,[t("button",{onClick:s[2]||(s[2]=(...e)=>d.prevPage&&d.prevPage(...e)),disabled:o.currentPage===0},s[4]||(s[4]=[t("i",{class:"fas fa-chevron-left"},null,-1)]),8,$),t("button",{onClick:s[3]||(s[3]=(...e)=>d.nextPage&&d.nextPage(...e)),disabled:(o.currentPage+1)*o.itemsPerPage>=a.vehicle_types.length},s[5]||(s[5]=[t("i",{class:"fas fa-chevron-right"},null,-1)]),8,ee)])])])])])}const oe=x(I,[["render",te],["__scopeId","data-v-9d6c8c2a"]]);export{oe as default};
