import A from"./SelectInputComponent-Dg0uEr40.js";import{P as T,x as n,p as d,s as l,F as m,t as i,y as F,Q as S,J as p,M as D,L as M,E as O}from"./index-BC79lHc5.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={components:{SelectInputComponent:A},data(){return{index:"",form:{available_days:0,manufacturer:0,model:0,year_from:0,year_to:0,chassis:0,engine:0,color:"",lot_no:"",grade:0,start_price:0,mileage_from:0,mileage_to:0,search:!1},loading:!1,advance_search:!1}},props:{reload:{type:Boolean,default:!1}},computed:{auctionDateOptions(){return this.$page.props.auctionDates.map((t,o)=>({id:o,name:t==null?void 0:t.AUCTION_DATE}))}},mounted(){this.setQueryData(),this.reload&&this.$inertia.reload({data:{...this.form,search:!1},onSuccess:()=>{this.form.search=!1}}),$("#manufacture, #model, #engine, #year_from, #year_to, #grade, #chassis,  #available_days, #colors, #mileage_from, #mileage_to, #price").on("select2:open",function(){setTimeout(function(){let t=document.querySelector(".select2-container--open .select2-search__field");t&&t.focus()},100)})},methods:{resetFilter(){this.form={available_days:0,manufacturer:0,model:0,year_from:0,year_to:0,chassis:0,engine:0,color:0,lot_no:"",grade:0,start_price:0,mileage_from:0,mileage_to:0,search:!1}},advanceFilter(){this.loading=!0,this.advance_search==!1?(this.advance_search=!0,setTimeout(()=>{this.loading=!1},500)):(this.advance_search=!1,setTimeout(()=>{this.loading=!1},500))},onChangeField(){this.loading=!0,this.filterData()},setQueryData(){this.form.available_days=this.$page.props.requestQuery.available_days??0,this.form.manufacturer=this.$page.props.requestQuery.manufacturer??0,this.form.model=this.$page.props.requestQuery.model??0,this.form.year_from=this.$page.props.requestQuery.year_from??0,this.form.year_to=this.$page.props.requestQuery.year_to??0,this.form.chassis=this.$page.props.requestQuery.chassis??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.color=this.$page.props.requestQuery.color??0,this.form.lot_no=this.$page.props.requestQuery.lot_no??"",this.form.grade=this.$page.props.requestQuery.grade??0,this.form.start_price=this.$page.props.requestQuery.start_price??0,this.form.mileage_from=this.$page.props.requestQuery.mileage_from??0,this.form.mileage_to=this.$page.props.requestQuery.mileage_to??0,this.form.search=!1},filterData(){this.loading=!0,this.reload?this.$inertia.reload({methods:"POST",data:{...this.form,search:!0,_method:"GET"},onSuccess:()=>{this.setQueryData(),this.advance_search=!0},onFinish:()=>{this.loading=!1}}):this.$inertia.visit(route("live.auction"),{data:{...this.form,search:!0},onStart:()=>{this.loading=!0},onSuccess:()=>{this.setQueryData(),this.advance_search=!0},onFinish:()=>{this.loading=!1}})}}},N={class:"filter-section"},R={class:"filter-container"},Q={class:"filter-wrapper"},U={class:"filter-content"},q={class:"filter-grid"},k={class:"filter-field"},x={class:"filter-field"},G={class:"filter-field"},P={class:"filter-field"},K={class:"year-range"},Y={class:"filter-field"},w={class:"filter-field"},B={class:"filter-field"},H={key:0,class:"filter-field"},Z={key:1,class:"filter-field"},z={key:2,class:"filter-field"},J={class:"mileage-range"},W={key:3,class:"filter-field"},j={class:"filter-field"},X={class:"filter-actions"},ee={class:"action-buttons"},oe={key:0,class:"loading-overlay"};function le(t,o,ae,se,a,s){var f,u,g,h,c,C,_,y,E,v,b,V;const r=T("SelectInputComponent");return d(),n("section",N,[l("div",R,[l("div",Q,[l("div",U,[l("div",q,[l("div",k,[o[17]||(o[17]=l("label",{for:"make-select",class:"filter-label text-gradient"},"Make",-1)),i(r,{id:"manufacture",modelValue:a.form.manufacturer,"onUpdate:modelValue":o[0]||(o[0]=e=>a.form.manufacturer=e),placeholder:"SELECT MAKE",onChange:s.onChangeField,options:(f=t.$page.props.manufactures)==null?void 0:f.map(e=>({id:e.MARKA_NAME,name:e.MARKA_NAME}))},null,8,["modelValue","onChange","options"])]),l("div",x,[o[18]||(o[18]=l("label",{for:"model-select",class:"filter-label text-gradient"},"Model",-1)),i(r,{id:"model",modelValue:a.form.model,"onUpdate:modelValue":o[1]||(o[1]=e=>a.form.model=e),placeholder:"SELECT MODEL",onChange:s.onChangeField,options:(u=t.$page.props.models)==null?void 0:u.map(e=>({id:e.MODEL_NAME,name:e.MODEL_NAME}))},null,8,["modelValue","onChange","options"])]),l("div",G,[o[19]||(o[19]=l("label",{for:"engine",class:"filter-label text-gradient"},"Engine CC",-1)),i(r,{id:"engine",modelValue:a.form.engine,"onUpdate:modelValue":o[2]||(o[2]=e=>a.form.engine=e),placeholder:"SELECT ENGINE CC",onChange:s.onChangeField,options:(g=t.$page.props.engineCapacity)==null?void 0:g.map(e=>({id:e.ENG_V,name:e.ENG_V}))},null,8,["modelValue","onChange","options"])]),l("div",P,[o[20]||(o[20]=l("label",{for:"days",class:"filter-label text-gradient"},"Select Year",-1)),l("div",K,[i(r,{id:"year_from",modelValue:a.form.year_from,"onUpdate:modelValue":o[3]||(o[3]=e=>a.form.year_from=e),placeholder:"FROM",onChange:s.onChangeField,options:(h=t.$page.props.years)==null?void 0:h.map(e=>({id:e.YEAR,name:e.YEAR}))},null,8,["modelValue","onChange","options"]),i(r,{id:"year_to",modelValue:a.form.year_to,"onUpdate:modelValue":o[4]||(o[4]=e=>a.form.year_to=e),placeholder:"TO",onChange:s.onChangeField,options:(c=t.$page.props.years)==null?void 0:c.map(e=>({id:e.YEAR,name:e.YEAR}))},null,8,["modelValue","onChange","options"])])]),l("div",Y,[o[21]||(o[21]=l("label",{for:"chassis",class:"filter-label text-gradient"},"Chassis ID",-1)),i(r,{id:"chassis",modelValue:a.form.chassis,"onUpdate:modelValue":o[5]||(o[5]=e=>a.form.chassis=e),placeholder:"SELECT CHASSIS ID",onChange:s.onChangeField,options:(C=t.$page.props.chassisNumbers)==null?void 0:C.map(e=>({id:e.KUZOV,name:e.KUZOV}))},null,8,["modelValue","onChange","options"])]),l("div",w,[o[22]||(o[22]=l("label",{for:"grade",class:"filter-label text-gradient"},"Auction Grade",-1)),i(r,{id:"grade",modelValue:a.form.grade,"onUpdate:modelValue":o[6]||(o[6]=e=>a.form.grade=e),placeholder:"SELECT AUCTION GRADE",onChange:s.onChangeField,options:(_=t.$page.props.Condition)==null?void 0:_.map(e=>({id:e.RATE,name:e.RATE}))},null,8,["modelValue","onChange","options"])]),l("div",B,[o[23]||(o[23]=l("label",{for:"lot_no",class:"filter-label text-gradient"},"Lot No",-1)),F(l("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>a.form.lot_no=e),onInput:o[8]||(o[8]=(...e)=>s.onChangeField&&s.onChangeField(...e)),class:"form-control filter-input",type:"text",placeholder:"ENTER LOT NO"},null,544),[[S,a.form.lot_no]])]),a.advance_search?(d(),n("div",H,[o[24]||(o[24]=l("label",{for:"available_days",class:"filter-label text-gradient"},"Auction Available Days",-1)),i(r,{id:"available_days",modelValue:a.form.available_days,"onUpdate:modelValue":o[9]||(o[9]=e=>a.form.available_days=e),placeholder:"SELECT AUCTION DATE",onChange:s.onChangeField,options:(y=t.$page.props.auctionDates)==null?void 0:y.map(e=>({id:e.AUCTION_DATE,name:e.AUCTION_DATE}))},null,8,["modelValue","onChange","options"])])):m("",!0),a.advance_search?(d(),n("div",Z,[o[25]||(o[25]=l("label",{for:"colors",class:"filter-label text-gradient"},"Color",-1)),i(r,{id:"colors",modelValue:a.form.color,"onUpdate:modelValue":o[10]||(o[10]=e=>a.form.color=e),placeholder:"SELECT COLOR",onChange:s.onChangeField,options:(E=t.$page.props.colorQuery)==null?void 0:E.map(e=>({id:e.COLOR,name:e.COLOR}))},null,8,["modelValue","onChange","options"])])):m("",!0),a.advance_search?(d(),n("div",z,[o[26]||(o[26]=l("label",{class:"filter-label text-gradient"},"Mileage",-1)),l("div",J,[i(r,{id:"mileage_from",modelValue:a.form.mileage_from,"onUpdate:modelValue":o[11]||(o[11]=e=>a.form.mileage_from=e),placeholder:"FROM",onChange:s.onChangeField,options:(v=t.$page.props.Mileage)==null?void 0:v.map(e=>({id:e.MILEAGE,name:e.MILEAGE}))},null,8,["modelValue","onChange","options"]),i(r,{id:"mileage_to",modelValue:a.form.mileage_to,"onUpdate:modelValue":o[12]||(o[12]=e=>a.form.mileage_to=e),placeholder:"TO",onChange:s.onChangeField,options:(b=t.$page.props.Mileage)==null?void 0:b.map(e=>({id:e.MILEAGE,name:e.MILEAGE}))},null,8,["modelValue","onChange","options"])])])):m("",!0),a.advance_search?(d(),n("div",W,[o[27]||(o[27]=l("label",{for:"price",class:"filter-label text-gradient"},"Start Price",-1)),i(r,{id:"price",modelValue:a.form.start_price,"onUpdate:modelValue":o[13]||(o[13]=e=>a.form.start_price=e),placeholder:"SELECT START PRICE",onChange:s.onChangeField,options:(V=t.$page.props.PriceQuery)==null?void 0:V.map(e=>({id:e.AVG_PRICE,name:e.AVG_PRICE}))},null,8,["modelValue","onChange","options"])])):m("",!0),l("div",j,[l("button",{type:"button",class:"advance-search-btn text-gradient",onClick:o[14]||(o[14]=p((...e)=>s.advanceFilter&&s.advanceFilter(...e),["prevent"]))},[D(M(a.advance_search?"Hide advance search":"Advance search")+" ",1),l("i",{class:O(["fa-solid",a.advance_search?"fa-angles-up":"fa-angles-down","ps-2"])},null,2)])])]),l("div",X,[l("div",ee,[l("button",{type:"button",class:"btn btn-reset text-gradient",onClick:o[15]||(o[15]=p((...e)=>s.resetFilter&&s.resetFilter(...e),["prevent"]))}," RESET "),l("button",{type:"button",class:"btn btn-search btn-gradient",onClick:o[16]||(o[16]=p((...e)=>s.filterData&&s.filterData(...e),["prevent"]))}," SEARCH ")])])]),a.loading?(d(),n("div",oe,o[28]||(o[28]=[l("div",{class:"loading-content"},[l("div",{class:"spinner-border text-primary",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")]),l("p",{class:"loading-text text-gradient"},"Please Wait..")],-1)]))):m("",!0)])])])}const ne=L(I,[["render",le],["__scopeId","data-v-ba414ca0"]]);export{ne as default};
