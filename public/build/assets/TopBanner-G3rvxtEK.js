import V from"./SelectInputComponent-ChkQodwG.js";import b from"./imageSlider-CbAUdqko.js";import{P as h,x as d,p as m,t as r,s as a,F as c,N as E,O as y,J as p,M as _,L as A,E as C}from"./index-BC79lHc5.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={components:{SelectInputComponent:V,ImageSlider:b},props:{reload:Boolean,category_manufactures:{type:Array,default:()=>[]}},data(){return{sliderImages:["/images/13.png","/images/background1.jpg","/images/background5.jpg","/images/background2.jpg","/images/background4.jpg","/images/background6.jpg","/images/background7.jpg"],form:{manufacturer:null,model:null,year_from:null,year_to:null,engine:null,chassis:null,grade:null,start_price:null,available_days:null,color:null,mileage_from:null,mileage_to:null},loading:!1,advance_search:!1}},computed:{filteredManufactures(){const n=["Toyota","Honda","Mitsubishi","Nissan","Suzuki"].map(i=>i.toLowerCase());return this.category_manufactures.filter(i=>n.includes(i.name.toLowerCase())).sort((i,u)=>n.indexOf(i.name.toLowerCase())-n.indexOf(u.name.toLowerCase()))}},mounted(){this.reload&&this.$inertia.reload({data:{...this.form,search:!1}}),console.log("Received category_manufactures:",this.category_manufactures),console.log("Filtered manufactures:",this.filteredManufactures),this.filteredManufactures.forEach(n=>{var o,i;console.log(`Manufacturer: ${n.name}, Media:`,n.media),(i=(o=n.media)==null?void 0:o[0])!=null&&i.original_url?console.log(`Image URL for ${n.name}:`,n.media[0].original_url):console.warn(`No image URL for ${n.name}`)})},methods:{onChangeField(){this.loading=!0,this.$inertia.reload({method:"POST",data:{...this.form,_method:"GET"},onSuccess:()=>this.loading=!1})},resetFilter(){Object.keys(this.form).forEach(n=>this.form[n]=null),this.advance_search=!1},filterData(){this.$inertia.visit(route("live.auction"),{data:{...this.form,search:!0},onSuccess:()=>{this.advance_search=!0}})},advanceFilter(){this.advance_search=!this.advance_search},handleImageError(n){var o,i,u;console.warn(`Image failed to load for ${n}. Check the URL:`,(u=(i=(o=this.filteredManufactures.find(l=>l.name===n))==null?void 0:o.media)==null?void 0:i[0])==null?void 0:u.original_url)}}},I={class:"hero-section"},S={class:"col-md-12"},k={class:"filters-container"},R={class:"basic-filters"},U={class:"row mt-4"},L={class:"col-6 mb-4"},w={class:"col-6 mb-4"},N={class:"row"},O={class:"col-6 mb-4"},D={class:"col-6 mb-4"},T={class:"row"},G={class:"col-6 mb-4"},j={class:"col-6 mb-4"},P={class:"row"},B={class:"col-6 mb-4"},Y={class:"col-6 mb-4"},H={key:0,class:"advanced-filters"},K={class:"row"},z={class:"col-6 mb-4"},Q={class:"col-6 mb-4"},Z={class:"row"},J={class:"col-6 mb-4"},q={class:"col-6 mb-4"},W={key:0,class:"col-12 logos-row"},X=["href"],x=["src","alt","onError"],$={class:"d-flex justify-content-between align-items-center button-row mt-4"},ee={class:"text-end"},oe={key:1,class:"loading-overlay d-flex justify-content-center align-items-center"};function le(n,o,i,u,l,s){const v=h("ImageSlider"),t=h("SelectInputComponent");return m(),d("section",I,[r(v,{images:l.sliderImages},null,8,["images"]),a("div",{class:C(["filter-overlay filter-row",{"advanced-open":l.advance_search}])},[a("div",S,[a("div",k,[a("div",R,[a("div",U,[a("div",L,[r(t,{modelValue:l.form.manufacturer,"onUpdate:modelValue":o[0]||(o[0]=e=>l.form.manufacturer=e),placeholder:"Select Make",onChange:s.onChangeField,options:n.$page.props.manufactures.map(e=>({id:e.MARKA_NAME,name:e.MARKA_NAME})),class:"field-input"},null,8,["modelValue","onChange","options"])]),a("div",w,[r(t,{modelValue:l.form.model,"onUpdate:modelValue":o[1]||(o[1]=e=>l.form.model=e),placeholder:"Select Model",onChange:s.onChangeField,options:n.$page.props.models.map(e=>({id:e.MODEL_NAME,name:e.MODEL_NAME})),class:"field-input"},null,8,["modelValue","onChange","options"])])]),a("div",N,[a("div",O,[r(t,{modelValue:l.form.year_from,"onUpdate:modelValue":o[2]||(o[2]=e=>l.form.year_from=e),placeholder:"Select Year From",onChange:s.onChangeField,options:n.$page.props.years.map(e=>({id:e.YEAR,name:e.YEAR})),class:"field-input"},null,8,["modelValue","onChange","options"])]),a("div",D,[r(t,{modelValue:l.form.year_to,"onUpdate:modelValue":o[3]||(o[3]=e=>l.form.year_to=e),placeholder:"To",onChange:s.onChangeField,options:n.$page.props.years.map(e=>({id:e.YEAR,name:e.YEAR})),class:"field-input"},null,8,["modelValue","onChange","options"])])]),a("div",T,[a("div",G,[r(t,{modelValue:l.form.engine,"onUpdate:modelValue":o[4]||(o[4]=e=>l.form.engine=e),placeholder:"Engine CC",onChange:s.onChangeField,options:n.$page.props.engineCapacity.map(e=>({id:e.ENG_V,name:e.ENG_V})),class:"field-input"},null,8,["modelValue","onChange","options"])]),a("div",j,[r(t,{modelValue:l.form.chassis,"onUpdate:modelValue":o[5]||(o[5]=e=>l.form.chassis=e),placeholder:"Chassis ID",onChange:s.onChangeField,options:n.$page.props.chassisNumbers.map(e=>({id:e.KUZOV,name:e.KUZOV})),class:"field-input"},null,8,["modelValue","onChange","options"])])]),a("div",P,[a("div",B,[r(t,{modelValue:l.form.grade,"onUpdate:modelValue":o[6]||(o[6]=e=>l.form.grade=e),placeholder:"Auction Grade",onChange:s.onChangeField,options:n.$page.props.Condition.map(e=>({id:e.RATE,name:e.RATE})),class:"field-input"},null,8,["modelValue","onChange","options"])]),a("div",Y,[r(t,{modelValue:l.form.start_price,"onUpdate:modelValue":o[7]||(o[7]=e=>l.form.start_price=e),placeholder:"Select Start Price",onChange:s.onChangeField,options:n.$page.props.PriceQuery.map(e=>({id:e.AVG_PRICE,name:e.AVG_PRICE})),class:"field-input"},null,8,["modelValue","onChange","options"])])])]),l.advance_search?(m(),d("div",H,[a("div",K,[a("div",z,[r(t,{modelValue:l.form.available_days,"onUpdate:modelValue":o[8]||(o[8]=e=>l.form.available_days=e),placeholder:"Select Auction Date",onChange:s.onChangeField,options:n.$page.props.auctionDates.map(e=>({id:e.AUCTION_DATE,name:e.AUCTION_DATE})),class:"field-input"},null,8,["modelValue","onChange","options"])]),a("div",Q,[r(t,{modelValue:l.form.color,"onUpdate:modelValue":o[9]||(o[9]=e=>l.form.color=e),placeholder:"Select Color",onChange:s.onChangeField,options:n.$page.props.colorQuery.map(e=>({id:e.COLOR,name:e.COLOR})),class:"field-input"},null,8,["modelValue","onChange","options"])])]),a("div",Z,[a("div",J,[r(t,{modelValue:l.form.mileage_from,"onUpdate:modelValue":o[10]||(o[10]=e=>l.form.mileage_from=e),placeholder:"Mileage From",onChange:s.onChangeField,options:Array.isArray(n.$page.props.Mileage)?n.$page.props.Mileage.map(e=>({id:e.MILEAGE,name:e.MILEAGE})):[],class:"field-input"},null,8,["modelValue","onChange","options"])]),a("div",q,[r(t,{modelValue:l.form.mileage_to,"onUpdate:modelValue":o[11]||(o[11]=e=>l.form.mileage_to=e),placeholder:"To",onChange:s.onChangeField,options:Array.isArray(n.$page.props.Mileage)?n.$page.props.Mileage.map(e=>({id:e.MILEAGE,name:e.MILEAGE})):[],class:"field-input"},null,8,["modelValue","onChange","options"])])])])):c("",!0)]),s.filteredManufactures.length?(m(),d("div",W,[(m(!0),d(E,null,y(s.filteredManufactures,e=>{var g,f;return m(),d("a",{key:e.id,href:`/live-auction?manufacturer=${encodeURIComponent(e.name)}&search=true`,class:"logo-btn"},[(f=(g=e.media)==null?void 0:g[0])!=null&&f.original_url?(m(),d("img",{key:0,src:e.media[0].original_url,alt:e.name,onError:ae=>s.handleImageError(e.name)},null,40,x)):c("",!0)],8,X)}),128))])):c("",!0),a("div",$,[a("button",{class:"btn btn-outline-reset",onClick:o[12]||(o[12]=p((...e)=>s.resetFilter&&s.resetFilter(...e),["prevent"]))}," Reset "),a("button",{class:"btn btn-search",onClick:o[13]||(o[13]=p((...e)=>s.filterData&&s.filterData(...e),["prevent"]))},o[15]||(o[15]=[a("i",{class:"fa fa-search me-2"},null,-1),_(" Search ")])),a("div",ee,[a("button",{class:"btn btn-advanced",onClick:o[14]||(o[14]=p((...e)=>s.advanceFilter&&s.advanceFilter(...e),["prevent"]))},[_(A(l.advance_search?"HIDE SEARCH":"ADVANCE SEARCH")+" ",1),a("i",{class:C(["fa-solid",l.advance_search?"fa-angles-left":"fa-angles-right"])},null,2)])])]),l.loading?(m(),d("div",oe,o[16]||(o[16]=[a("div",{class:"spinner-border text-light",role:"status"},[a("span",{class:"visually-hidden"},"Loadingâ€¦")],-1)]))):c("",!0)])],2)])}const te=M(F,[["render",le],["__scopeId","data-v-aebeb860"]]);export{te as default};
