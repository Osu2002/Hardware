import{x as r,p as n,s as t,J as y,F as d,y as a,S as u,N as c,O as p,L as f}from"./index-BC79lHc5.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={props:{makes:Array,models:Array,fuelOptions:Array,vehicles:Array,initialFuelType:String},data(){return{makeId:"",modelId:"",efficiency:null,fuelType:this.initialFuelType||"",price:null,imageLoaded:!1}},computed:{filteredModels(){return this.models.filter(s=>s.manufacture_id===this.makeId)},filteredFuelOptions(){return this.isElectric?this.fuelOptions.filter(s=>String(s.type).toLowerCase()==="electric"):this.fuelOptions.filter(s=>String(s.type).toLowerCase()!=="electric")},isElectric(){return String(this.fuelType).toLowerCase()==="electric"}},methods:{onModelChange(){const s=this.vehicles.find(e=>e.manufacture_id===this.makeId&&e.vehicle_model_id===this.modelId);s&&(this.efficiency=s.fuel_efficiency,this.fuelType=s.fuel_type||this.initialFuelType,s.fuel_type&&(this.fuelType=s.fuel_type),this.updatePrice())},onFuelTypeChange(){this.updatePrice()},updatePrice(){const s=this.fuelOptions.find(e=>e.type===this.fuelType);this.price=s?s.price:null},submit(){this.$emit("next",{makeId:this.makeId,modelId:this.modelId,efficiency:this.efficiency,fuelType:this.fuelType,price:this.price})}}},v={class:"container my-5"},_={class:"row g-4 align-items-center"},g={class:"col-lg-6"},k={class:"p-5 rounded-4 bg-light leasing-panel"},T={class:"row gy-3 gx-3"},C={class:"col-md-6"},F={class:"bg-white rounded-4 p-2"},I=["value"],w={class:"col-md-6"},S={class:"bg-white rounded-4 p-2"},x=["value"],M={class:"col-md-6"},E={class:"bg-white rounded-4 p-2"},L=["value"],O={class:"col-md-6"},V={class:"bg-white rounded-4 p-2"},A={key:0,disabled:"",value:""},B={key:1,value:"Electric"},D=["value"],P={key:0,class:"col-md-6"},N={class:"bg-white rounded-4 p-2"},R=["value"],U={class:"col-12 d-grid"};function J(s,e,m,Y,i,o){return n(),r("section",v,[t("div",_,[t("div",g,[t("div",k,[e[15]||(e[15]=t("h3",{class:"mb-4 fw-bold"},"Select Your Dream Car",-1)),t("form",{onSubmit:e[6]||(e[6]=y((...l)=>o.submit&&o.submit(...l),["prevent"]))},[t("div",T,[t("div",C,[t("div",F,[e[8]||(e[8]=t("label",{class:"form-label small text-secondary"},"Make",-1)),a(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>i.makeId=l),class:"form-select border-0 p-0"},[e[7]||(e[7]=t("option",{disabled:"",value:""},"Select Vehicle Make",-1)),(n(!0),r(c,null,p(m.makes,l=>(n(),r("option",{key:l.id,value:l.id},f(l.title),9,I))),128))],512),[[u,i.makeId]])])]),t("div",w,[t("div",S,[e[10]||(e[10]=t("label",{class:"form-label small text-secondary"},"Model",-1)),a(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>i.modelId=l),class:"form-select border-0 p-0",onChange:e[2]||(e[2]=(...l)=>o.onModelChange&&o.onModelChange(...l))},[e[9]||(e[9]=t("option",{disabled:"",value:""},"Select Vehicle Model",-1)),(n(!0),r(c,null,p(o.filteredModels,l=>(n(),r("option",{key:l.id,value:l.id},f(l.title),9,x))),128))],544),[[u,i.modelId]])])]),t("div",M,[t("div",E,[e[11]||(e[11]=t("label",{class:"form-label small text-secondary"}," Fuel Efficiency ",-1)),t("input",{type:"text",value:i.efficiency?i.efficiency+(o.isElectric?" Rs/km":" km/L"):"—",readonly:"",class:"form-control border-0 p-0"},null,8,L)])]),t("div",O,[t("div",V,[e[12]||(e[12]=t("label",{class:"form-label small text-secondary"}," Fuel Type ",-1)),a(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>i.fuelType=l),onChange:e[4]||(e[4]=(...l)=>o.onFuelTypeChange&&o.onFuelTypeChange(...l)),class:"form-select border-0 p-0"},[i.fuelType?d("",!0):(n(),r("option",A," Select Fuel Type ")),o.isElectric?(n(),r("option",B," Electric ")):d("",!0),(n(!0),r(c,null,p(o.filteredFuelOptions,l=>(n(),r("option",{key:l.type,value:l.type},f(l.type),9,D))),128))],544),[[u,i.fuelType]])])]),o.isElectric?d("",!0):(n(),r("div",P,[t("div",N,[e[13]||(e[13]=t("label",{class:"form-label small text-secondary"}," Fuel Price (Rs) ",-1)),t("input",{type:"text",value:i.price?`Rs ${i.price}`:"",readonly:"",class:"form-control border-0 p-0"},null,8,R)])])),t("div",U,[t("button",{type:"button",class:"btn btn-secondary mb-2",onClick:e[5]||(e[5]=l=>s.$emit("back"))}," ← Back "),e[14]||(e[14]=t("button",{type:"submit",class:"btn btn-gradient"}," Calculate Savings ",-1))])])],32)])])])])}const z=h(b,[["render",J],["__scopeId","data-v-ad33369f"]]);export{z as default};
