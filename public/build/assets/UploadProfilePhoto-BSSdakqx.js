import{d as n,x as i,p as d,s}from"./index-BC79lHc5.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";const u={data(){return{form:n.useForm({_method:"put",image:null}),prevImage:null}},mounted(){let t=this;this.prevImage=this.$page.props.user.profile_photo_path,$(function(){$("#upload").on("change",function(){var e=this.files?this.files:[];if(!(!e.length||!window.FileReader))if(/^image/.test(e[0].type)){var o=new FileReader;o.readAsDataURL(e[0]),o.onloadend=function(){t.prevImage=this.result}}else t.prevImage=null})})},methods:{handleFileChange(t){this.form.image=t.target.files[0],this.form.post(route("profile.update-photo"),{errorBag:"updateProfileInformation",preserveScroll:!0,forceFormData:!0,onSuccess:()=>{this.form.reset("image"),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"Profile Photo Updated Successfully! ")}})}}},m={class:"card-body"},c={class:"d-flex align-items-start align-items-sm-center gap-4"},f=["src"],g={class:"button-wrapper"},h={for:"upload",class:"btn btn-main btn-sm me-2 mb-2",tabindex:"0"};function b(t,e,o,v,a,l){return d(),i("div",m,[s("div",c,[s("img",{src:a.prevImage?a.prevImage:"/images/profile-avatar.png",alt:"user-avatar",class:"d-block rounded",height:"100",width:"100",id:"uploadedAvatar"},null,8,f),s("div",g,[s("form",null,[s("label",h,[e[1]||(e[1]=s("span",{class:"d-none d-sm-block"},"Upload new photo",-1)),e[2]||(e[2]=s("i",{class:"bx bx-upload d-block d-sm-none"},null,-1)),s("input",{type:"file",id:"upload",class:"account-file-input",hidden:"",accept:"image/png, image/jpeg",onInput:e[0]||(e[0]=(...r)=>l.handleFileChange&&l.handleFileChange(...r))},null,32)])]),e[3]||(e[3]=s("p",{class:"text-muted mb-0"},"Allowed JPG, GIF or PNG. Max size of 800K",-1))])])])}const I=p(u,[["render",b]]);export{I as default};
